#!/bin/sh

#  savePlistAsXml.sh
#  CBCreateUser
#
#  Created by Satendra Dagar on 18/12/17.
#  Copyright Â© 2017 Satendra Dagar. All rights reserved.

{
"mod-count" = 4;
"persistent-apps" =     (
{
"tile-data" =             {
book =
<626f6f6b cc020000 00000410 30000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 ec010000 0c000000 01010000 4170706c 69636174 696f6e73 0b000000 01010000 46697265 666f782e 61707000 08000000 01060000 04000000 18000000 08000000 04030000 2a000000 02000000 08000000 04030000 ef094500 02000000 08000000 01060000 3c000000 4c000000 08000000 00040000 41bfd878 f8000000 18000000 01020000 02000000 00000000 0f000000 00000000 00000000 00000000 08000000 01090000 66696c65 3a2f2f2f 0c000000 01010000 4d616369 6e746f73 68204844 08000000 04030000 0080a563 1d000000 08000000 00040000 41bf19fb 88000000 24000000 01010000 46314542 44423136 2d413634 422d3344 42342d38 3437452d 37363335 44443132 33413532 18000000 01020000 81000000 01000000 ef130000 01000000 00000000 00000000 01000000 01010000 2f000000 00000000 01050000 a4000000 01020000 37333061 31343964 33393865 32393130 37313837 61313331 62303734 62626363 36313662 35613963 3b303030 30303030 303b3030 30303030 30303b30 30303030 30303030 30303030 3032303b 636f6d2e 6170706c 652e6170 702d7361 6e64626f 782e7265 61642d77 72697465 3b30313b 30313030 30303036 3b303030 30303030 32303034 35303965 663b2f61 70706c69 63617469 6f6e732f 66697265 666f782e 61707000 a8000000 feffffff 01000000 00000000 0d000000 04100000 2c000000 00000000 05100000 5c000000 00000000 10100000 7c000000 00000000 40100000 6c000000 00000000 02200000 2c010000 00000000 05200000 9c000000 00000000 10200000 ac000000 00000000 11200000 e0000000 00000000 12200000 c0000000 00000000 13200000 d0000000 00000000 20200000 0c010000 00000000 30200000 38010000 00000000 80f00000 40010000 00000000>;
"bundle-identifier" = "org.mozilla.firefox";
"dock-extra" = 0;
"file-data" =                 {
"_CFURLString" = "file:///Applications/Firefox.app/";
"_CFURLStringType" = 15;
};
"file-label" = Firefox;
"file-mod-date" = 0;
"file-type" = 1;
"parent-mod-date" = 0;
};
"tile-type" = "file-tile";
},
{
"tile-data" =             {
book =
<626f6f6b e4020000 00000410 30000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 04020000 0c000000 01010000 4170706c 69636174 696f6e73 16000000 01010000 536b7970 6520666f 72204275 73696e65 73732e61 70700000 08000000 01060000 04000000 18000000 08000000 04030000 2a000000 02000000 08000000 04030000 74014500 02000000 08000000 01060000 48000000 58000000 08000000 00040000 41bfebd7 6be86419 18000000 01020000 02000000 00000000 0f000000 00000000 00000000 00000000 08000000 01090000 66696c65 3a2f2f2f 0c000000 01010000 4d616369 6e746f73 68204844 08000000 04030000 0080a563 1d000000 08000000 00040000 41bf19fb 88000000 24000000 01010000 46314542 44423136 2d413634 422d3344 42342d38 3437452d 37363335 44443132 33413532 18000000 01020000 81000000 01000000 ef130000 01000000 00000000 00000000 01000000 01010000 2f000000 00000000 01050000 af000000 01020000 30336164 62336336 35616435 39643161 39393733 34393462 64333139 34343563 37666161 35396262 3b303030 30303030 303b3030 30303030 30303b30 30303030 30303030 30303030 3032303b 636f6d2e 6170706c 652e6170 702d7361 6e64626f 782e7265 61642d77 72697465 3b30313b 30313030 30303036 3b303030 30303030 32303034 35303137 343b2f61 70706c69 63617469 6f6e732f 736b7970 6520666f 72206275 73696e65 73732e61 70700000 a8000000 feffffff 01000000 00000000 0d000000 04100000 38000000 00000000 05100000 68000000 00000000 10100000 88000000 00000000 40100000 78000000 00000000 02200000 38010000 00000000 05200000 a8000000 00000000 10200000 b8000000 00000000 11200000 ec000000 00000000 12200000 cc000000 00000000 13200000 dc000000 00000000 20200000 18010000 00000000 30200000 44010000 00000000 80f00000 4c010000 00000000>;
"bundle-identifier" = "com.microsoft.SkypeForBusiness";
"dock-extra" = 0;
"file-data" =                 {
"_CFURLString" = "file:///Applications/Skype%20for%20Business.app/";
"_CFURLStringType" = 15;
};
"file-label" = "Skype for Business";
"file-mod-date" = 0;
"file-type" = 1;
"parent-mod-date" = 0;
};
"tile-type" = "file-tile";
}
);
"persistent-others" =     (
{
GUID = 1409619154;
"tile-data" =             {
arrangement = 2;
book =
<626f6f6b 38030000 00000410 30000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 34020000 05000000 01010000 55736572 73000000 09000000 01010000 64727962 6172706f 73000000 09000000 01010000 446f776e 6c6f6164 73000000 0c000000 01060000 04000000 14000000 28000000 08000000 04030000 b8690600 00000000 08000000 04030000 98fe4400 02000000 08000000 04030000 a8fe4400 02000000 0c000000 01060000 50000000 60000000 70000000 08000000 00040000 41befdbe 93000000 18000000 01020000 02000000 00000000 0f000000 00000000 00000000 00000000 08000000 04030000 01000000 00000000 04000000 03030000 f7010000 08000000 01090000 66696c65 3a2f2f2f 0c000000 01010000 4d616369 6e746f73 68204844 08000000 04030000 0080a563 1d000000 08000000 00040000 41bf19fb 88000000 24000000 01010000 46314542 44423136 2d413634 422d3344 42342d38 3437452d 37363335 44443132 33413532 18000000 01020000 81000000 01000000 ef130000 01000000 00000000 00000000 01000000 01010000 2f000000 00000000 01050000 a5000000 01020000 32336162 63393865 35373863 38633937 31383831 31313938 37383662 61333332 37613132 65386634 3b303030 30303030 303b3030 30303030 30303b30 30303030 30303030 30303030 3032303b 636f6d2e 6170706c 652e6170 702d7361 6e64626f 782e7265 61642d77 72697465 3b30313b 30313030 30303036 3b303030 30303030 32303034 34666561 383b2f75 73657273 2f647279 62617270 6f732f64 6f776e6c 6f616473 00000000 cc000000 feffffff 01000000 00000000 10000000 04100000 3c000000 00000000 05100000 80000000 00000000 10100000 a4000000 00000000 40100000 94000000 00000000 02200000 70010000 00000000 05200000 e0000000 00000000 10200000 f0000000 00000000 11200000 24010000 00000000 12200000 04010000 00000000 13200000 14010000 00000000 20200000 50010000 00000000 30200000 7c010000 00000000 01c00000 c4000000 00000000 11c00000 14000000 00000000 12c00000 d4000000 00000000 80f00000 84010000 00000000>;
displayas = 0;
"file-data" =                 {
"_CFURLString" = "file:///Users/drybarpos/Downloads/";
"_CFURLStringType" = 15;
};
"file-label" = Downloads;
"file-mod-date" = 149429803896779;
"file-type" = 2;
"parent-mod-date" = 3744513382285;
preferreditemsize = "-1";
showas = 1;
};
"tile-type" = "directory-tile";
}
);
version = 1;
}

function GenerateDaemonPlist()
{
plist=`cat <<EOF
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>com.apple.Dictionary</key>
<dict>
<key>parentalControl</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<true/>
</dict>
</dict>
<key>com.apple.applicationaccess.new</key>
<dict>
<key>CFREnabled</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<true/>
</dict>
<key>familyControlsEnabled</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<true/>
</dict>
<key>whiteList</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<array>
<dict>
<key>bundleID</key>
<string>com.apple.Safari</string>
<key>displayName</key>
<string>Safari</string>
<key>path</key>
<string>/Applications/Safari.app</string>
</dict>
<dict>
<key>bundleID</key>
<string>com.apple.mail</string>
<key>displayName</key>
<string>Mail</string>
<key>path</key>
<string>/Applications/Mail.app</string>
</dict>
<dict>
<key>bundleID</key>
<string>com.apple.Preview</string>
<key>displayName</key>
<string>Preview</string>
<key>path</key>
<string>/Applications/Preview.app</string>
</dict>
</array>
</dict>
</dict>
<key>com.apple.coremediaio.support</key>
<dict>
<key>Device Access Allowed</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<false/>
</dict>
</dict>
<key>com.apple.familycontrols.contentfilter</key>
<dict>
<key>restrictWeb</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<true/>
</dict>
<key>useContentFilter</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<true/>
</dict>
</dict>
<key>com.apple.familycontrols.logging</key>
<dict>
<key>applications</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<true/>
</dict>
<key>iChat</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<true/>
</dict>
<key>web</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<true/>
</dict>
</dict>
<key>com.apple.gamed</key>
<dict>
<key>GKFeatureAddingGameCenterFriendsAllowed</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<false/>
</dict>
</dict>
<key>com.apple.iChatAgent</key>
<dict>
<key>Setting.parentalControls</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<true/>
</dict>
<key>Setting.parentalControls.forceAIMWhitelist</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<false/>
</dict>
<key>Setting.parentalControls.forceChatLogging</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<true/>
</dict>
<key>Setting.parentalControls.forceJabberWhitelist</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<false/>
</dict>
</dict>
<key>com.apple.ironwood.support</key>
<dict>
<key>Assistant Allowed</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<false/>
</dict>
<key>Ironwood Allowed</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<false/>
</dict>
<key>Profanity Allowed</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<false/>
</dict>
</dict>
<key>com.apple.parentalcontrols</key>
<dict>
<key>prefsVersion</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<integer>1</integer>
</dict>
</dict>
<key>com.apple.systempreferences</key>
<dict>
<key>com.apple.restrictTCC</key>
<dict>
<key>state</key>
<string>always</string>
<key>value</key>
<array>
<string>kTCCServiceAddressBook</string>
<string>kTCCServiceCalendar</string>
<string>kTCCServiceReminders</string>
<string>kTCCServiceTwitter</string>
<string>kTCCServiceFacebook</string>
</array>
</dict>
</dict>
</dict>
</plist>
EOF
`
echo "$plist" > /private/tmp/temp_control.plist
}
GenerateDaemonPlist
